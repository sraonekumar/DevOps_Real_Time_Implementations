serverFiles:
  ## Alerts configuration
  ## Ref: https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/
  alerting_rules.yml: 
    groups:
      - name: Instances
        rules:
          - alert: InstanceDown
            expr: up == 0
            for: 5m
            labels:
              severity: page
            annotations:
              description: '{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 5 minutes.'
              summary: 'Instance {{ $labels.instance }} down'
      - name: MemoryThreshold
        rules:
          - alert: HighRAMUsage
            expr: 100 * (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) > 60
            for: 1m
            labels:
              severity: critical
            annotations:
              summary: "High RAM usage on {{ $labels.instance }}"
              description: "RAM usage on {{ $labels.instance }} is greater than 60%."
  

prometheus.yml:
  scrape_configs:
    - job_name: prometheus
      static_configs:
        - targets:
          - localhost:9090
    - job_name: react-app
      static_configs:
        - targets:
          - localhost:3000

